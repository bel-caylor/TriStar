<!DOCTYPE html>
<html lang="en" class="bg-white text-zinc-900 dark:bg-zinc-900 dark:text-white">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }}</title>
  <link href="/style.css" rel="stylesheet">
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    crossorigin="anonymous"
  />
</head>

<body class="min-h-screen flex flex-col">
  <div
    x-data="{
      // start closed on screens smaller than 768px
      sidebarOpen: window.innerWidth >= 768
    }"
    x-init="
      // whenever the window is resized, re‐evaluate
      window.addEventListener('resize', () => {
        sidebarOpen = (window.innerWidth >= 768)
      })
    "
    class="flex flex-col flex-1"
  >
    {% include "components/header.njk" %}

    <div class="flex flex-1 overflow-hidden">
      <!-- Sidebar -->
      <aside
        class="transition-all duration-300 ease-in-out bg-white border-r border-gray-200"
      >
        {% include "components/sidebar-nav.njk" %}
      </aside>

      <!-- Main Content -->
      <main
        class="w-full px-3 pt-3 md:ml-20 overflow-auto print:mt-0 print:ml-0 transition-all duration-300 ease-in-out"
        {# :class="{ 'ml-0': !sidebarOpen, 'ml-20': sidebarOpen }" #}
      >
        {{ content | safe }}
        {% include "components/footer.njk" %}
      </main>
    </div>
  </div>
  

  <script src="/js/main.js"></script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

</body>

<script>
function toggleSidebar(open) {
  const rightSide = document.querySelector('aside.right-side');
  if (!rightSide) return;

  if (open) {
    rightSide.classList.add('ml-20');
  } else {
    rightSide.classList.remove('ml-20');
  }
}
</script>

</html>
